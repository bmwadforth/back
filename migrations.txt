create schema bmwadforth
;

create sequence bmwadforth.articles_id_seq
	as integer
	maxvalue 2147483647
;

create sequence bmwadforth.users_id_seq
	as integer
	maxvalue 2147483647
;

create table bmwadforth.articles
(
	id serial not null
		constraint articles_pkey
			primary key,
	blog_title varchar,
	blog_content varchar,
	blog_description varchar,
	blog_views integer default 0,
	blog_image varchar default ''::character varying,
	blog_created timestamp default now() not null
)
;

create unique index articles_id_uindex
	on bmwadforth.articles (id)
;

create table bmwadforth.users
(
	id serial not null
		constraint users_pkey
			primary key,
	username varchar,
	password varchar,
	user_created timestamp default now()
)
;

create unique index users_id_uindex
	on bmwadforth.users (id)
;


CREATE TABLE bmwadforth.article_meta
(
    id serial PRIMARY KEY NOT NULL,
    article_id int,
    meta JSON NOT NULL,
    CONSTRAINT article_meta_articles_id_fk FOREIGN KEY (article_id) REFERENCES bmwadforth.articles (id)
);
CREATE UNIQUE INDEX article_meta_id_uindex ON bmwadforth.article_meta (id);
